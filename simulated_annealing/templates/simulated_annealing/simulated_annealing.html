{% extends 'Evalutionary_music_generation/base.html' %}


{% load crispy_forms_tags %}


{% block content %}
<form action='{% url "simulated_annealing" %}' method='post' enctype="multipart/form-data">
    {% csrf_token %}
    <div class="row align-items-center">
        <div class="col-1 p-3"></div>
        <div class="col-4 p-3" style="color: white;">{{ form.config|as_crispy_field }}</div>
        <div class="col-2 p-3" style="color: white;">{{ form.n_melodies|as_crispy_field }}</div>
        <div class="col-2 p-3" style="color: white;">{{ form.n_melody_notes|as_crispy_field }}</div>
        <div class="col-2 p-3" style="color: white;">{{ form.n_iterations|as_crispy_field }}</div>
        <div class="col-1 p-3"></div>
    </div>

    <div class="row align-items-right pt-5 position-sticky">
        <div class="col-10"></div>
        <div class="col-2">
            <button type="submit" class="btn btn-outline-light btn-lg">Generate</button>
        </div>
    </div>

    <div class="row" style="margin-top: 5em;">
        <div class="col-2"></div>
        <div class="col-1"></div>
        <div class="col-2 p-5">
            <h3 style="color: white;">Your result:</h3>
        </div>
        <div class="col-4 p-5">
            <audio class="align-middle position-sticky" id="audio" controls style="width: 30em;">
                <source src="{{ best_melody }}" type="audio/mpeg">
                Ваш браузер не поддерживает элемент audio.
            </audio>
        </div>
        <div class="col-1"></div>
        <div class="col-2"></div>
    </div>
</form>
{% endblock %}
